
# 123789

设计实现一个Linux内核模块,此模块完成如下功能

- [ ] 将新创建的文件系统的操作接口和VFS对接.
- [ ] 实现新的文件系统的超级块、dentry、inode的读写操作.
- [ ] 实现新的文件系统的权限属性,不同的用户不同的操作属性.
- [ ] 实现和用户态程序的对接,用户程序
- [ ] 设计实现一个用户态应用程序,可以将一个块设备(可以用文件模拟)格式化成自己设计的文件系统的格式.
- [x] 设计一个用户态的测试用例应用程序,测试验证自己的文件系统的open/read/write/ls/cd 等通常文件系统的访问.

哈伦裤撒旦金克拉的急啊离开卡

- 设计实现一个用户态应用程
- 设计实现一个用户态应用程
- 3

爱上了打卡时间绿卡的撒记录

1. 1231
2. 123
3. sd

爱上建档立卡手机打开拉萨的加拉

- 首先我们注意到 spt 记录的是 gva 的映射, 也就是说 vmm 需要**为每个guest VM中的每个进程的gPT都维护一个对应的sPT**, 且不论多虚拟机, 为每一个进程都记录一份 spt 这显然大大增加了内存的开销.
- 其次每个进程的页表是不断变化的, 分配/释放内存时都会修改页表, 那么此时 spt 也要跟着同步. qemu 的做法是
  1. 首先 qemu 会将gPT本身使用的物理页面设为**write protected**
  2. 每当gPT有变动的时候(比如添加或删除了一个页表项),就会产生被VMM截获的**page fault异常**
  3. 重新计算GVA->HPA的映射,更改sPT中对应的页表项

爱神的箭来到拉萨

1. 123
   1. 123
   
2. 1231
   - 123


## 写在前面

本系列基础内容是基于 [linux6.6.0](https://mirrors.edge.kernel.org/pub/linux/kernel/v6.x/linux-6.6.tar.gz) 源码进行阅读和分析的, 对于后续内核版本新加入的内容会标明对应的内核版本

本系列包含 **泛操作系统概念** 以及 **linux实现细节**